{
  "version": 3,
  "sources": ["../../@cloudfour/transition-hidden-element/src/index.js"],
  "sourcesContent": ["/**\n * Transition Hidden Element\n *\n * A utility to wrap elements that need to be shown and hidden with transitions.\n *\n * Enables transitions on elements with the `hidden` attribute\n * by removing the attribute and then forcing a reflow. It also has options to\n * wait for exit animations before re-applying `hidden`.\n *\n * @param {Object} opts - Our options element, destructed into its properties\n * @param {HTMLElement} opts.element - The element we're showing and hiding\n * @param {String} opts.visibleClass - The class to add when showing the element\n * @param {String} opts.waitMode - Determine how the library should check that\n *  hiding transitions are complete. The options are `'transitionEnd'`,\n *  `'timeout'`, and `'immediate'` (to hide immediately)\n * @param  {Number} opts.timeoutDuration â€” If `waitMode` is set to `'timeout'`,\n *  then this determines the length of the timeout.\n * @param {String} opts.hideMode - Determine how the library should hide\n *  elements. The options are `hidden` (use the `hidden` attribute), and\n *  `display` (use the CSS `display` property). Defaults to `hidden`\n * @param {String} opts.displayValue - When using the `display` `hideMode`, this\n *  parameter determines what the CSS `display` property should be set to when\n *  the element is shown. e.g. `block`, `inline`, `inline-block`. Defaults to\n *  `block`.\n */\nexport function transitionHiddenElement({\n  element,\n  visibleClass,\n  waitMode = 'transitionend',\n  timeoutDuration,\n  hideMode = 'hidden',\n  displayValue = 'block'\n}) {\n  if (waitMode === 'timeout' && typeof timeoutDuration !== 'number') {\n    console.error(`\n      When calling transitionHiddenElement with waitMode set to timeout,\n      you must pass in a number for timeoutDuration.\n    `);\n\n    return;\n  }\n\n  // Don't wait for exit transitions if a user prefers reduced motion.\n  // Ideally transitions will be disabled in CSS, which means we should not wait\n  // before adding `hidden`.\n  if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {\n    waitMode = 'immediate';\n  }\n\n  /**\n   * An event listener to add `hidden` after our animations complete.\n   * This listener will remove itself after completing.\n   */\n  const listener = e => {\n    // Confirm `transitionend` was called on  our `element` and didn't bubble\n    // up from a child element.\n    if (e.target === element) {\n      applyHiddenAttributes();\n\n      element.removeEventListener('transitionend', listener);\n    }\n  };\n\n  const applyHiddenAttributes = () => {\n    if(hideMode === 'display') {\n      element.style.display = 'none';\n    } else {\n      element.setAttribute('hidden', true);\n    }\n  }\n\n  const removeHiddenAttributes = () => {\n    if(hideMode === 'display') {\n      element.style.display = displayValue;\n    } else {\n      element.removeAttribute('hidden');\n    }\n  }\n\n  return {\n    /**\n     * Show the element\n     */\n    show() {\n      /**\n       * This listener shouldn't be here but if someone spams the toggle\n       * over and over really fast it can incorrectly stick around.\n       * We remove it just to be safe.\n       */\n      element.removeEventListener('transitionend', listener);\n\n      /**\n       * Similarly, we'll clear the timeout in case it's still hanging around.\n       */\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n      }\n\n      removeHiddenAttributes();\n\n      /**\n       * Force a browser re-paint so the browser will realize the\n       * element is no longer `hidden` and allow transitions.\n       */\n      const reflow = element.offsetHeight;\n\n      element.classList.add(visibleClass);\n    },\n\n    /**\n     * Hide the element\n     */\n    hide() {\n      if (waitMode === 'transitionend') {\n        element.addEventListener('transitionend', listener);\n      } else if (waitMode === 'timeout') {\n        this.timeout = setTimeout(() => {\n          applyHiddenAttributes();\n        }, timeoutDuration);\n      } else {\n        applyHiddenAttributes();\n      }\n\n      // Add this class to trigger our animation\n      element.classList.remove(visibleClass);\n    },\n\n    /**\n     * Toggle the element's visibility\n     */\n    toggle() {\n      if (this.isHidden()) {\n        this.show();\n      } else {\n        this.hide();\n      }\n    },\n\n    /**\n     * Tell whether the element is hidden or not.\n     */\n    isHidden() {\n      /**\n       * The hidden attribute does not require a value. Since an empty string is\n       * falsy, but shows the presence of an attribute we compare to `null`\n       */\n      const hasHiddenAttribute = element.getAttribute('hidden') !== null;\n\n      const isDisplayNone = element.style.display === 'none';\n\n      const hasVisibleClass = [...element.classList].includes(visibleClass);\n\n      return hasHiddenAttribute || isDisplayNone || !hasVisibleClass;\n    },\n\n    // A placeholder for our `timeout`\n    timeout: null\n  };\n}\n"],
  "mappings": ";;;AAyBO,SAAS,wBAAwB;AAAA,EACtC;AAAA,EACA;AAAA,EACA,WAAW;AAAA,EACX;AAAA,EACA,WAAW;AAAA,EACX,eAAe;AACjB,GAAG;AACD,MAAI,aAAa,aAAa,OAAO,oBAAoB,UAAU;AACjE,YAAQ,MAAM;AAAA;AAAA;AAAA,KAGb;AAED;AAAA,EACF;AAKA,MAAI,OAAO,WAAW,kCAAkC,EAAE,SAAS;AACjE,eAAW;AAAA,EACb;AAMA,QAAM,WAAW,OAAK;AAGpB,QAAI,EAAE,WAAW,SAAS;AACxB,4BAAsB;AAEtB,cAAQ,oBAAoB,iBAAiB,QAAQ;AAAA,IACvD;AAAA,EACF;AAEA,QAAM,wBAAwB,MAAM;AAClC,QAAG,aAAa,WAAW;AACzB,cAAQ,MAAM,UAAU;AAAA,IAC1B,OAAO;AACL,cAAQ,aAAa,UAAU,IAAI;AAAA,IACrC;AAAA,EACF;AAEA,QAAM,yBAAyB,MAAM;AACnC,QAAG,aAAa,WAAW;AACzB,cAAQ,MAAM,UAAU;AAAA,IAC1B,OAAO;AACL,cAAQ,gBAAgB,QAAQ;AAAA,IAClC;AAAA,EACF;AAEA,SAAO;AAAA;AAAA;AAAA;AAAA,IAIL,OAAO;AAML,cAAQ,oBAAoB,iBAAiB,QAAQ;AAKrD,UAAI,KAAK,SAAS;AAChB,qBAAa,KAAK,OAAO;AAAA,MAC3B;AAEA,6BAAuB;AAMvB,YAAM,SAAS,QAAQ;AAEvB,cAAQ,UAAU,IAAI,YAAY;AAAA,IACpC;AAAA;AAAA;AAAA;AAAA,IAKA,OAAO;AACL,UAAI,aAAa,iBAAiB;AAChC,gBAAQ,iBAAiB,iBAAiB,QAAQ;AAAA,MACpD,WAAW,aAAa,WAAW;AACjC,aAAK,UAAU,WAAW,MAAM;AAC9B,gCAAsB;AAAA,QACxB,GAAG,eAAe;AAAA,MACpB,OAAO;AACL,8BAAsB;AAAA,MACxB;AAGA,cAAQ,UAAU,OAAO,YAAY;AAAA,IACvC;AAAA;AAAA;AAAA;AAAA,IAKA,SAAS;AACP,UAAI,KAAK,SAAS,GAAG;AACnB,aAAK,KAAK;AAAA,MACZ,OAAO;AACL,aAAK,KAAK;AAAA,MACZ;AAAA,IACF;AAAA;AAAA;AAAA;AAAA,IAKA,WAAW;AAKT,YAAM,qBAAqB,QAAQ,aAAa,QAAQ,MAAM;AAE9D,YAAM,gBAAgB,QAAQ,MAAM,YAAY;AAEhD,YAAM,kBAAkB,CAAC,GAAG,QAAQ,SAAS,EAAE,SAAS,YAAY;AAEpE,aAAO,sBAAsB,iBAAiB,CAAC;AAAA,IACjD;AAAA;AAAA,IAGA,SAAS;AAAA,EACX;AACF;",
  "names": []
}
